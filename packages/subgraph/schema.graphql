type Invoice @entity {
  id: ID!
  address: Bytes!
  token: Bytes!
  client: Bytes!
  provider: Bytes!
  resolverType: ADR!
  resolver: Bytes!
  isLocked: Boolean!
  amounts: [BigInt!]!
  numMilestones: Int!
  currentMilestone: BigInt!
  total: BigInt!
  released: BigInt!
  createdAt: BigInt! # seconds since epoch
  terminationTime: BigInt! # seconds since epoch
  details: Bytes!
  disputeId: BigInt!
  projectName: String!
  projectDescription: String!
  projectAgreement: String!
  startDate: BigInt # seconds since epoch
  endDate: BigInt # seconds since epoch
  disputes: [Dispute!]!
  resolutions: [Resolution!]!
}

enum ADR @entity {
  individual
  arbitrator
}

type Release @entity {
  id: ID!
  invoice: Invoice!
  milestone: BigInt!
  amount: BigInt!
  timestamp: BigInt!
}

type Withdraw @entity {
  id: ID!
  invoice: Invoice!
  amount: BigInt!
  timestamp: BigInt!
}

type Dispute @entity {
  id: ID!
  invoice: Invoice!
  sender: Bytes!
  details: Bytes!
  disputeToken: Bytes # only arbitrator
  disputeFee: BigInt # only arbitrator
  disputeId: BigInt # only arbitrator
  timestamp: BigInt!
}

type Resolution @entity {
  id: ID!
  invoice: Invoice!
  resolverType: ADR!
  resolver: Bytes!
  clientAward: BigInt!
  providerAward: BigInt!
  resolutionDetails: Bytes # only individual
  resolutionFee: BigInt # only individual
  ruling: BigInt # only arbitrator
  timestamp: BigInt!
}
